---
title: Examples
---

This document demonstrates various ggsql features with runnable examples using CSV files.

```{ggsql}
#| echo: false
#| output: false
COPY (
    SELECT * FROM (VALUES
        (5.2, 18.5),
        (8.7, 22.3),
        (12.3, 28.9),
        (15.8, 35.2),
        (19.4, 42.7),
        (23.1, 38.6),
        (26.8, 45.1),
        (30.2, 52.8),
        (33.9, 48.3),
        (37.5, 55.9),
        (41.2, 62.4),
        (44.8, 58.7),
        (48.3, 65.2),
        (52.1, 71.8),
        (55.7, 68.1),
        (59.4, 74.6)
    ) AS t(x, y)
) TO 'data.csv' (HEADER, DELIMITER ',')
```

```{ggsql}
#| echo: false
#| output: false
COPY (
    SELECT * FROM (VALUES
        ('2023-01-15'::DATE, 1000.0, 'North', 'Electronics', 5),
        ('2023-02-10'::DATE, 1200.0, 'South', 'Electronics', 8),
        ('2023-03-05'::DATE, 1400.0, 'East', 'Electronics', 7),
        ('2023-04-20'::DATE, 1100.0, 'West', 'Electronics', 6),
        ('2023-05-12'::DATE, 1600.0, 'North', 'Electronics', 9),
        ('2023-06-08'::DATE, 1800.0, 'South', 'Electronics', 10),
        ('2023-07-14'::DATE, 2000.0, 'East', 'Electronics', 11),
        ('2023-08-22'::DATE, 2200.0, 'West', 'Electronics', 12),
        ('2023-09-18'::DATE, 1900.0, 'North', 'Electronics', 8),
        ('2023-10-25'::DATE, 2400.0, 'South', 'Electronics', 14),
        ('2023-11-11'::DATE, 2600.0, 'East', 'Electronics', 15),
        ('2023-12-05'::DATE, 3000.0, 'West', 'Electronics', 16),
        ('2023-01-20'::DATE, 800.0, 'North', 'Clothing', 25),
        ('2023-02-15'::DATE, 900.0, 'South', 'Clothing', 30),
        ('2023-03-10'::DATE, 1100.0, 'East', 'Clothing', 35),
        ('2023-04-25'::DATE, 1300.0, 'West', 'Clothing', 38),
        ('2023-05-18'::DATE, 1500.0, 'North', 'Clothing', 42),
        ('2023-06-12'::DATE, 1700.0, 'South', 'Clothing', 45),
        ('2023-07-20'::DATE, 1900.0, 'East', 'Clothing', 48),
        ('2023-08-28'::DATE, 2100.0, 'West', 'Clothing', 50),
        ('2023-09-22'::DATE, 2300.0, 'North', 'Clothing', 52),
        ('2023-10-30'::DATE, 2500.0, 'South', 'Clothing', 55),
        ('2023-11-15'::DATE, 2700.0, 'East', 'Clothing', 58),
        ('2023-12-10'::DATE, 2900.0, 'West', 'Clothing', 60),
        ('2023-01-25'::DATE, 600.0, 'North', 'Furniture', 3),
        ('2023-02-18'::DATE, 700.0, 'South', 'Furniture', 3),
        ('2023-03-15'::DATE, 850.0, 'East', 'Furniture', 4),
        ('2023-04-28'::DATE, 950.0, 'West', 'Furniture', 4),
        ('2023-05-22'::DATE, 1050.0, 'North', 'Furniture', 5),
        ('2023-06-16'::DATE, 1150.0, 'South', 'Furniture', 5),
        ('2023-07-24'::DATE, 1250.0, 'East', 'Furniture', 5),
        ('2023-08-30'::DATE, 1350.0, 'West', 'Furniture', 6),
        ('2023-09-26'::DATE, 1450.0, 'North', 'Furniture', 6),
        ('2023-10-31'::DATE, 1550.0, 'South', 'Furniture', 6),
        ('2023-11-20'::DATE, 1650.0, 'East', 'Furniture', 7),
        ('2023-12-15'::DATE, 1750.0, 'West', 'Furniture', 7)
    ) AS t(sale_date, revenue, region, category, quantity)
) TO 'sales.csv' (HEADER, DELIMITER ',')
```

```{ggsql}
#| echo: false
#| output: false
COPY (
    SELECT * FROM (VALUES
        ('2023-01-01'::DATE, 100.0),
        ('2023-01-08'::DATE, 110.0),
        ('2023-01-15'::DATE, 105.0),
        ('2023-01-22'::DATE, 115.0),
        ('2023-01-29'::DATE, 120.0),
        ('2023-02-05'::DATE, 118.0),
        ('2023-02-12'::DATE, 125.0),
        ('2023-02-19'::DATE, 130.0),
        ('2023-02-26'::DATE, 128.0),
        ('2023-03-05'::DATE, 135.0),
        ('2023-03-12'::DATE, 142.0),
        ('2023-03-19'::DATE, 138.0),
        ('2023-03-26'::DATE, 145.0),
        ('2023-04-02'::DATE, 150.0),
        ('2023-04-09'::DATE, 148.0),
        ('2023-04-16'::DATE, 155.0),
        ('2023-04-23'::DATE, 160.0),
        ('2023-04-30'::DATE, 158.0),
        ('2023-05-07'::DATE, 165.0),
        ('2023-05-14'::DATE, 170.0)
    ) AS t(date, value)
) TO 'timeseries.csv' (HEADER, DELIMITER ',')
```

```{ggsql}
#| echo: false
#| output: false
COPY (
    SELECT * FROM (VALUES
        ('2023-01-01'::DATE, 45.2, 'Sales'),
        ('2023-02-01'::DATE, 52.1, 'Sales'),
        ('2023-03-01'::DATE, 48.7, 'Sales'),
        ('2023-04-01'::DATE, 58.3, 'Sales'),
        ('2023-05-01'::DATE, 62.5, 'Sales'),
        ('2023-06-01'::DATE, 67.8, 'Sales'),
        ('2023-07-01'::DATE, 71.2, 'Sales'),
        ('2023-08-01'::DATE, 75.6, 'Sales'),
        ('2023-09-01'::DATE, 80.1, 'Sales'),
        ('2023-10-01'::DATE, 85.4, 'Sales'),
        ('2023-11-01'::DATE, 90.2, 'Sales'),
        ('2023-12-01'::DATE, 95.8, 'Sales'),
        ('2023-01-01'::DATE, 120.5, 'Marketing'),
        ('2023-02-01'::DATE, 135.2, 'Marketing'),
        ('2023-03-01'::DATE, 128.9, 'Marketing'),
        ('2023-04-01'::DATE, 142.3, 'Marketing'),
        ('2023-05-01'::DATE, 155.7, 'Marketing'),
        ('2023-06-01'::DATE, 148.2, 'Marketing'),
        ('2023-07-01'::DATE, 162.8, 'Marketing'),
        ('2023-08-01'::DATE, 175.4, 'Marketing'),
        ('2023-09-01'::DATE, 168.9, 'Marketing'),
        ('2023-10-01'::DATE, 182.5, 'Marketing'),
        ('2023-11-01'::DATE, 195.1, 'Marketing'),
        ('2023-12-01'::DATE, 188.7, 'Marketing'),
        ('2023-01-01'::DATE, 78.3, 'Support'),
        ('2023-02-01'::DATE, 82.1, 'Support'),
        ('2023-03-01'::DATE, 75.6, 'Support'),
        ('2023-04-01'::DATE, 85.9, 'Support'),
        ('2023-05-01'::DATE, 92.4, 'Support'),
        ('2023-06-01'::DATE, 88.7, 'Support'),
        ('2023-07-01'::DATE, 95.2, 'Support'),
        ('2023-08-01'::DATE, 101.8, 'Support'),
        ('2023-09-01'::DATE, 97.5, 'Support'),
        ('2023-10-01'::DATE, 105.3, 'Support'),
        ('2023-11-01'::DATE, 112.6, 'Support'),
        ('2023-12-01'::DATE, 108.9, 'Support')
    ) AS t(date, value, category)
) TO 'metrics.csv' (HEADER, DELIMITER ',')
```

## Basic Visualizations

### Simple Scatter Plot

```{ggsql}
SELECT x, y FROM 'data.csv'
VISUALISE x, y
DRAW point
```

```{ggsql}
VISUALISE bill_len AS x, bill_dep AS y, species AS color FROM ggsql:penguins
DRAW point
```

### Line Chart with Date Scale

```{ggsql}
SELECT sale_date, revenue FROM 'sales.csv'
WHERE category = 'Electronics'
VISUALISE sale_date AS x, revenue AS y
DRAW line
SCALE x VIA date
LABEL 
    title => 'Electronics Revenue Over Time', 
    x => 'Date', 
    y => 'Revenue ($)'
```

```{ggsql}
SELECT * FROM ggsql:airquality
VISUALISE Date AS x
DRAW line MAPPING Ozone AS y, 'Ozone' AS color
DRAW line MAPPING Temp AS y, 'Temp' AS color
```

### Bar Chart by Category

```{ggsql}
SELECT category, SUM(revenue) as total
FROM 'sales.csv'
GROUP BY category
VISUALISE category AS x, total AS y, category AS fill
DRAW bar
LABEL 
    title => 'Total Revenue by Category', 
    x => 'Category', 
    y => 'Total Revenue ($)'
```

### Line chart with multiple lines with same aesthetics

```{ggsql}
SELECT * FROM 'sales.csv'
VISUALISE sale_date AS x, revenue AS y
DRAW line
    PARTITION BY category
```

## Statistical Transformations

Statistical transformations automatically compute aggregations for certain geom types.

### Histogram

When using `DRAW histogram`, ggsql automatically bins continuous data and counts occurrences. You only need to specify the x aesthetic:

```{ggsql}
SELECT revenue FROM 'sales.csv'
VISUALISE revenue AS x
DRAW histogram
LABEL
    title => 'Revenue Distribution',
    x => 'Revenue ($)',
    y => 'Count'
```

### Bar with Automatic Count

When using `DRAW bar` without a y aesthetic, ggsql automatically counts occurrences of each x value:

```{ggsql}
SELECT category FROM 'sales.csv'
VISUALISE category AS x
DRAW bar
LABEL
    title => 'Sales Count by Category',
    x => 'Category',
    y => 'Count'
```

### Bar with Weighted Count

You can also specify a weight aesthetic to sum values instead of counting:

```{ggsql}
SELECT category, revenue FROM 'sales.csv'
VISUALISE category AS x, revenue AS weight
DRAW bar
LABEL
    title => 'Total Revenue by Category',
    x => 'Category',
    y => 'Revenue ($)'
```

### Histogram Settings

Control histogram binning with `SETTING` options:

**Custom number of bins:**

```{ggsql}
SELECT revenue FROM 'sales.csv'
VISUALISE revenue AS x
DRAW histogram 
    SETTING bins => 10
LABEL
    title => 'Revenue Distribution (10 bins)',
    x => 'Revenue ($)',
    y => 'Count'
```

**Explicit bin width** (overrides bins):

```{ggsql}
SELECT revenue FROM 'sales.csv'
VISUALISE revenue AS x
DRAW histogram 
    SETTING binwidth => 500
LABEL
    title => 'Revenue Distribution (500 bin width)',
    x => 'Revenue ($)',
    y => 'Count'
```

**Left-closed intervals** (default is right-closed `(a, b]`):

```{ggsql}
SELECT revenue FROM 'sales.csv'
VISUALISE revenue AS x
DRAW histogram 
    SETTING bins => 8, closed => 'left'
LABEL
    title => 'Revenue Distribution (left-closed intervals)',
    x => 'Revenue ($)',
    y => 'Count'
```

### Histogram Remapping

Histogram computes several statistics: `bin`, `bin_end`, `count`, and `density`. By default, `count` is mapped to `y`. Use `REMAPPING` to show density (proportion) instead:

```{ggsql}
SELECT revenue FROM 'sales.csv'
VISUALISE revenue AS x
DRAW histogram 
    REMAPPING density AS y
LABEL
    title => 'Revenue Density Distribution',
    x => 'Revenue ($)',
    y => 'Density'
```

### Bar Width Setting

Control bar width with the `width` setting (0-1 scale, default 0.9):

```{ggsql}
SELECT category FROM 'sales.csv'
VISUALISE category AS x
DRAW bar 
    SETTING width => 0.5
LABEL
    title => 'Sales Count (Narrow Bars)',
    x => 'Category',
    y => 'Count'
```

### Bar Remapping

Bar computes `count` and `proportion` statistics. By default, `count` is mapped to `y`. Use `REMAPPING` to show proportions instead:

```{ggsql}
SELECT category FROM 'sales.csv'
VISUALISE category AS x
DRAW bar 
    REMAPPING proportion AS y
LABEL
    title => 'Sales Proportion by Category',
    x => 'Category',
    y => 'Proportion'
```

Combine with `weight` to show weighted proportions:

```{ggsql}
SELECT category, revenue FROM 'sales.csv'
VISUALISE category AS x, revenue AS weight
DRAW bar 
    REMAPPING proportion AS y
LABEL
    title => 'Revenue Share by Category',
    x => 'Category',
    y => 'Share of Total Revenue'
```

## Multiple Layers

### Line with Points

```{ggsql}
SELECT date, value FROM 'timeseries.csv'
VISUALISE date AS x, value AS y
DRAW line 
    SETTING  color => 'blue'
DRAW point 
    SETTING size => 6, color => 'red'
SCALE x VIA date
LABEL 
    title => 'Time Series with Points', 
    x => 'Date', 
    y => 'Value'
```

### Colored Lines by Category

```{ggsql}
SELECT date, value, category FROM 'metrics.csv'
VISUALISE date AS x, value AS y, category AS color
DRAW line
SCALE x VIA date
LABEL 
    title => 'Metrics by Category', 
    x => 'Date', 
    y => 'Value'
```

## Faceting

### Facet by Region

```{ggsql}
SELECT sale_date, revenue, region FROM 'sales.csv'
WHERE category = 'Electronics'
VISUALISE sale_date AS x, revenue AS y
DRAW line
SCALE x VIA date
FACET region
LABEL 
    title => 'Electronics Sales by Region', 
    x => 'Date', 
    y => 'Revenue ($)'
```

### Facet Grid

```{ggsql}
SELECT
    DATE_TRUNC('month', sale_date) as month,
    region,
    category,
    SUM(revenue) as total_revenue,
    SUM(quantity) * 100 as total_quantity_scaled
FROM 'sales.csv'
GROUP BY DATE_TRUNC('month', sale_date), region, category
VISUALISE month AS x
DRAW line 
    MAPPING total_revenue AS y
    SETTING color => 'steelblue'
DRAW point 
    MAPPING total_revenue AS y
    SETTING size => 6, color => 'darkblue'
DRAW line 
    MAPPING total_quantity_scaled AS y
    SETTING color => 'coral'
DRAW point 
    MAPPING total_quantity_scaled AS y
    SETTING size => 6, color => 'orangered'
SCALE x VIA date
FACET region BY category
LABEL 
    title => 'Monthly Revenue and Quantity by Region and Category', 
    x => 'Month', 
    y => 'Value'
```

## Coordinate Transformations

### Flipped Coordinates (Horizontal Bar Chart)

```{ggsql}
SELECT region, SUM(revenue) as total
FROM 'sales.csv'
GROUP BY region
ORDER BY total DESC
VISUALISE region AS x, total AS y, region AS fill
DRAW bar
COORD flip
LABEL 
    title => 'Total Revenue by Region', 
    x => 'Region', 
    y => 'Total Revenue ($)'
```

### Cartesian with Axis Limits

```{ggsql}
SELECT x, y FROM 'data.csv'
VISUALISE x, y
DRAW point 
    SETTING size => 4, color => 'blue'
COORD cartesian 
    SETTING xlim => [0, 60], ylim => [0, 70]
LABEL 
    title => 'Scatter Plot with Custom Axis Limits', 
    x => 'X', 
    y => 'Y'
```

### Pie Chart with Polar Coordinates

```{ggsql}
SELECT category, SUM(revenue) as total
FROM 'sales.csv'
GROUP BY category
VISUALISE total AS y, category AS fill
DRAW bar
COORD polar
LABEL 
    title => 'Revenue Distribution by Category'
```

## Constant Mappings

Constants can be used in both the VISUALISE clause (global) and MAPPING clauses (per-layer) to set fixed aesthetic values.

### Different Constants Per Layer

Each layer can have its own constant value, creating a legend showing all values:

```{ggsql}
WITH monthly AS (
    SELECT
        DATE_TRUNC('month', sale_date) as month,
        category,
        SUM(revenue) as revenue
    FROM 'sales.csv'
    GROUP BY DATE_TRUNC('month', sale_date), category
)
VISUALISE month AS x, revenue AS y
DRAW line 
    MAPPING 'Electronics' AS color FROM monthly 
    FILTER category = 'Electronics'
DRAW line 
    MAPPING 'Clothing' AS color FROM monthly 
    FILTER category = 'Clothing'
DRAW line 
    MAPPING 'Furniture' AS color FROM monthly 
    FILTER category = 'Furniture'
SCALE x VIA date
LABEL 
    title => 'Revenue by Category (Constant Colors)', 
    x => 'Month', 
    y => 'Revenue ($)'
```

### Mixed Constants and Columns

When mixing constant and column mappings for the same aesthetic, the axis/legend label uses the first non-constant column name:

```{ggsql}
SELECT date, value, category FROM 'metrics.csv'
VISUALISE date AS x
DRAW line 
    MAPPING value AS y, category AS color
DRAW point 
    MAPPING 120 AS y 
    SETTING size => 3, color => 'blue'
SCALE x VIA date
LABEL 
    title => 'Metrics with Threshold Line', 
    x => 'Date'
```

### Numeric Constants

Numbers work as constants too:

```{ggsql}
SELECT x, y FROM 'data.csv'
VISUALISE x, y
DRAW point 
    SETTING color => 'blue', size => 10
DRAW point 
    SETTING color => 'red', size => 5 
    FILTER y > 50
LABEL 
    title => 'Scatter Plot with Constant Sizes'
```

## Layer filtering

### Filter one layer

```{ggsql}
SELECT date, value FROM 'timeseries.csv'
VISUALISE date AS x, value AS y
DRAW line 
    SETTING color => 'blue'
DRAW point 
    SETTING color => 'red', size => 6
    FILTER value < 130
SCALE x VIA date
LABEL 
    title => 'Time Series with Points', 
    x => 'Date', 
    y => 'Value'
```

## Layer ordering

### ORDER BY in a layer

Use `ORDER BY` to ensure data is sorted correctly within a layer. This is especially important for line charts where the order of points affects the visual path:

```{ggsql}
WITH unordered_data AS (
    SELECT * FROM (VALUES
        (150.0, '2023-03-01'::DATE),
        (100.0, '2023-01-01'::DATE),
        (120.0, '2023-05-01'::DATE),
        (200.0, '2023-02-01'::DATE),
        (180.0, '2023-04-01'::DATE)
    ) AS t(value, date)
)
VISUALISE
DRAW path 
    MAPPING date AS x, value AS y FROM unordered_data 
    ORDER BY date
DRAW point 
    MAPPING date AS x, value AS y FROM unordered_data 
    SETTING size => 6, color => 'red'
SCALE x VIA date
LABEL 
    title => 'Line Chart with ORDER BY', 
    x => 'Date', 
    y => 'Value'
```

### Combining FILTER and ORDER BY

The `ORDER BY` clause can be combined with `FILTER` and other layer options:

```{ggsql}
SELECT date, value, category FROM 'metrics.csv'
VISUALISE
DRAW path 
    MAPPING date AS x, value AS y, category AS color 
    FILTER category != 'Support' 
    ORDER BY value
DRAW point 
    MAPPING date AS x, value AS y, category AS color 
    SETTING size => 3
    FILTER category != 'Support' 
SCALE x VIA date
LABEL 
    title => 'Sales and Marketing Metrics (Ordered)', 
    x => 'Date', 
    y => 'Value'
```

## Common Table Expressions (CTEs)

### Simple CTE with VISUALISE FROM

```{ggsql}
WITH monthly_sales AS (
    SELECT
        DATE_TRUNC('month', sale_date) as month,
        SUM(revenue) as total_revenue
    FROM 'sales.csv'
    GROUP BY DATE_TRUNC('month', sale_date)
)
VISUALISE month AS x, total_revenue AS y FROM monthly_sales
DRAW line
DRAW point
SCALE x VIA date
LABEL 
    title => 'Monthly Revenue Trends', 
    x => 'Month', 
    y => 'Revenue ($)'
```

### Multiple CTEs

```{ggsql}
WITH daily_sales AS (
    SELECT sale_date, region, SUM(revenue) as revenue
    FROM 'sales.csv'
    GROUP BY sale_date, region
),
regional_totals AS (
    SELECT region, SUM(revenue) as total
    FROM daily_sales
    GROUP BY region
)
VISUALISE region AS x, total AS y, region AS fill FROM regional_totals
DRAW bar
COORD flip
LABEL 
    title => 'Total Revenue by Region', 
    x => 'Region', 
    y => 'Total Revenue ($)'
```

## Layer-Specific Data Sources (MAPPING FROM)

Layers can pull data from different sources using `MAPPING FROM`. This enables overlaying data from different CTEs or tables.

### Comparing Actuals vs Targets

Each layer can reference a different CTE using `MAPPING ... FROM cte_name`:

```{ggsql}
WITH actuals AS (
    SELECT
        DATE_TRUNC('month', sale_date) as month,
        SUM(revenue) as value
    FROM 'sales.csv'
    GROUP BY DATE_TRUNC('month', sale_date)
),
targets AS (
    SELECT * FROM (VALUES
        ('2023-01-01'::DATE, 5000.0),
        ('2023-02-01'::DATE, 5500.0),
        ('2023-03-01'::DATE, 6000.0),
        ('2023-04-01'::DATE, 6500.0),
        ('2023-05-01'::DATE, 7000.0),
        ('2023-06-01'::DATE, 7500.0),
        ('2023-07-01'::DATE, 8000.0),
        ('2023-08-01'::DATE, 8500.0),
        ('2023-09-01'::DATE, 9000.0),
        ('2023-10-01'::DATE, 9500.0),
        ('2023-11-01'::DATE, 10000.0),
        ('2023-12-01'::DATE, 10500.0)
    ) AS t(month, value)
)
VISUALISE
DRAW line 
    MAPPING month AS x, value AS y, 'Actual' AS color FROM actuals
DRAW point 
    MAPPING month AS x, value AS y, 'Actual' AS color FROM actuals 
    SETTING size => 6
DRAW line 
    MAPPING month AS x, value AS y, 'Target' AS color FROM targets
SCALE x VIA date
LABEL 
    title => 'Revenue: Actual vs Target', 
    x => 'Month', 
    y => 'Revenue ($)'
```

### CTE Chain: Raw → Filtered → Aggregated

CTEs can reference other CTEs, creating a data transformation pipeline:

```{ggsql}
WITH raw_data AS (
    SELECT sale_date, revenue, category, region
    FROM 'sales.csv'
),
electronics_only AS (
    SELECT * FROM raw_data
    WHERE category = 'Electronics'
),
monthly_electronics AS (
    SELECT
        DATE_TRUNC('month', sale_date) as month,
        region,
        SUM(revenue) as total
    FROM electronics_only
    GROUP BY DATE_TRUNC('month', sale_date), region
)
VISUALISE month AS x, total AS y, region AS color FROM monthly_electronics
DRAW line
DRAW point
SCALE x VIA date
LABEL 
    title => 'Electronics Revenue by Region (CTE Chain)', 
    x => 'Month', 
    y => 'Revenue ($)'
```

### Layer FROM with FILTER

Combine `FROM` with `FILTER` to get filtered subsets from a CTE:

```{ggsql}
WITH all_sales AS (
    SELECT
        DATE_TRUNC('month', sale_date) as month,
        category,
        SUM(revenue) as revenue
    FROM 'sales.csv'
    GROUP BY DATE_TRUNC('month', sale_date), category
)
VISUALISE
DRAW line 
    MAPPING month AS x, revenue AS y, 'All Categories' AS color FROM all_sales
DRAW line 
    MAPPING month AS x, revenue AS y, 'Electronics' AS color FROM all_sales 
    FILTER category = 'Electronics'
DRAW line 
    MAPPING month AS x, revenue AS y, 'Clothing' AS color FROM all_sales 
    FILTER category = 'Clothing'
SCALE x VIA date
LABEL 
    title => 'Revenue by Category (Filtered Layers)', 
    x => 'Month', 
    y => 'Revenue ($)'
```

## Advanced Examples

### Complete Regional Sales Analysis

```{ggsql}
SELECT
    sale_date,
    region,
    SUM(quantity) as total_quantity
FROM 'sales.csv'
WHERE sale_date >= '2023-01-01'
GROUP BY sale_date, region
ORDER BY sale_date
VISUALISE sale_date AS x, total_quantity AS y, region AS color
DRAW line
DRAW point
SCALE x VIA date
FACET region
LABEL
    title => 'Sales Trends by Region', 
    x => 'Date', 
    y => 'Total Quantity'
```

### Multi-Category Analysis

```{ggsql}
SELECT
    category,
    region,
    SUM(revenue) as total_revenue
FROM 'sales.csv'
GROUP BY category, region
VISUALISE category AS x, total_revenue AS y, region AS fill
DRAW bar
LABEL 
    title => 'Revenue by Category and Region', 
    x => 'Category', 
    y => 'Revenue ($)'
```
